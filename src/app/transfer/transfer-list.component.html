<div class="card mb-3">
  <div class="card-body d-flex justify-content-between align-items-center">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb m-0 p-0">
        <li class="breadcrumb-item active"><a>Transfer List</a></li>
      </ol>
    </nav>
  </div>
</div>

<div class="card">
    <div class="card-body">
      <div class="mb-3 d-flex gap-2 align-items-center">
        <select (change)="load()" class="form-select form-select-sm w-auto">
          <option value="">All statuses</option>
          <option value="in_transfer">In Transfer</option>
          <option value="transfer_accepted">Transfer Accepted</option>
          <option value="returning">Returning</option>
          <option value="return_accepted">Return Accepted</option>
        </select>
        <button class="btn btn-outline-secondary btn-sm" (click)="load()">Refresh</button>
      </div>
  
      <table class="table table-sm table-hover">
        <thead>
          <tr>
            <th>ID</th>
            <th>From → To</th>
            <th>Item</th>
            <th>Qty</th>
            <th>Status</th>
            <th>Created</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of transfers">
            <td>{{ t.transferId }}</td>
            <td>{{ t.fromRoom.roomName }} → {{ t.toRoom.roomName }}</td>
            <td>
              {{ t.itemType }}<span *ngIf="t.itemId"> #{{ t.itemId }}</span>
            </td>
            <td>{{ t.quantity }}</td>
            <td><span class="badge bg-secondary text-light">{{ t.status }}</span></td>
            <td>{{ t.createdAt | date:'short' }}</td>
            <td>
              <button (click)="view(t)">View</button>
              <button *ngIf="canAccept(t)" (click)="accept(t)">Accept</button>
            </td>
          </tr>
        </tbody>
      </table>
  
      <div *ngIf="!transfers || transfers.length === 0" class="text-center text-muted">No transfers yet.</div>
    </div>
  </div>